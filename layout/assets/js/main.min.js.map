{"version":3,"sources":["pop-up.js","slider.js"],"names":["popUp","title","text","document","querySelector","popUpTitle","popUptext","innerText","classList","add","body","style","overflow","onclick","e","target","contains","remove","init","slider","count","activeSlide","offset","store","localStorage","sliderWrap","des","likeCount","likeBtn","APICars","qurryOffset","fetch","concat","then","res","json","result","countAll","initSlider","data","forEach","element","isLiked","getItem","appendSlide","desc","likeCnt","id","imgUrl","update","error","content","arguments","length","undefined","innerHTML","Swiper","allowTouchMove","speed","navigation","nextEl","prevEl","effect","creativeEffect","prev","shadow","translate","next","on","dataset","like","isLike","slideChangeTransitionStart","setTimeout","realIndex","slide","method","setItem","window","addEventListener"],"mappings":"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","file":"main.min.js","sourcesContent":[" function popUp(title, text) {\r\n     const popUp = document.querySelector('.pop-up')\r\n     const popUpTitle = document.querySelector('.pop-up__wrap__content__title')\r\n     const popUptext = document.querySelector('.pop-up__wrap__content__text')\r\n\r\n     popUpTitle.innerText = title\r\n     popUptext.innerText = text\r\n     popUp.classList.add('active')\r\n\r\n     document.body.style.overflow = 'hidden';\r\n\r\n     popUp.onclick = (e) => {\r\n         if (e.target.classList.contains('pop-up__wrap') || e.target.classList.contains('pop-up__wrap__content__icon')) {\r\n             popUp.classList.remove('active')\r\n             document.body.style.overflow = 'auto';\r\n         }\r\n     }\r\n }","window.addEventListener('load', () => {\r\n    init()\r\n})\r\n\r\nfunction init() {\r\n\r\n    let slider\r\n    let offset = 0\r\n    let count\r\n    let activeSlide\r\n    const store = localStorage\r\n    const sliderWrap = document.querySelector('.swiper-wrapper')\r\n    const des = document.querySelector('.slider__wrapper__description')\r\n    let likeCount = document.querySelector('#likeCount')\r\n    const likeBtn = document.querySelector('#likeBtn')\r\n\r\n    APICars(offset)\r\n\r\n    function APICars(qurryOffset) {\r\n        fetch(`https://private-anon-0d3a31f55c-grchhtml.apiary-mock.com/slides?offset=${qurryOffset}&limit=3`)\r\n            .then((res) => res.json())\r\n            .then(\r\n                (result) => {\r\n                    if (offset === 0) {\r\n                        count = result.countAll\r\n                        initSlider(result.data)\r\n                        offset += 3\r\n                    } else {\r\n                        addSlides(result.data)\r\n                    }\r\n                },\r\n                (error) => {\r\n                    const data = {\r\n                        desc: '////////////////////',\r\n                        id: null,\r\n                        imgUrl: 'assets/images/error.png',\r\n                        title: 'error'\r\n                    }\r\n                    initSlider(data, true)\r\n                }\r\n            );\r\n    }\r\n\r\n    function APILike(slide) {\r\n        fetch(`https://private-anon-ad13a8cebd-grchhtml.apiary-mock.com/slides/${slide.dataset.id}/like`, {\r\n                method: 'POST'\r\n            })\r\n            .then((res) => res.json())\r\n            .then(\r\n                (result) => {\r\n                    likeBtn.classList.add('active')\r\n                    slide.dataset.like = +slide.dataset.like + 1\r\n                    likeCount.innerText = slide.dataset.like\r\n                    slide.dataset.isLike = '1'\r\n                    popUp(result.title, result.desc)\r\n                    store.setItem(slide.dataset.title, slide.dataset.id)\r\n\r\n                },\r\n                (error) => {\r\n                    popUp('ERROR', 'Unknown error')\r\n                }\r\n            );\r\n    }\r\n\r\n    function initSlider(data, error = false) {\r\n        if (!error) {\r\n            let content = ''\r\n            data.forEach(element => {\r\n                let isLiked = store.getItem(element.title)\r\n                content += `\r\n\t\t\t<div class=\"swiper-slide\" data-desc='${element.desc}' data-like=${isLiked ? element.likeCnt + 1 : element.likeCnt} data-id=${element.id} data-is-like=${isLiked ? 1 : 0} data-title='${element.title}'>\r\n\t\t\t\t<div class=\"slider__wrapper__item\" style=\"background-image: url(${element.imgUrl})\">\r\n\t\t\t\t\t<div class=\"slider__wrapper__item__title\">${element.title}</div>\r\n\t\t\t\t\t<div class=\"slider__wrapper__item__tooltip\">${element.title}</div>\r\n\t\t\t\t\t<div class=\"slider__wrapper__item__devider\">\r\n\t\t\t\t\t\t<svg width=\"1792\" height=\"2\" viewBox=\"0 0 1792 2\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t\t\t\t\t\t<path d=\"M0 1L1792 1.00016\" stroke=\"url(#paint0_linear_7_16)\" stroke-width=\"2\"/>\r\n\t\t\t\t\t\t\t<defs>\r\n\t\t\t\t\t\t\t<linearGradient id=\"paint0_linear_7_16\" x1=\"0\" y1=\"1\" x2=\"1779\" y2=\"1\" gradientUnits=\"userSpaceOnUse\">\r\n\t\t\t\t\t\t\t<stop stop-color=\"#F36A1D\" stop-opacity=\"0\"/>\r\n\t\t\t\t\t\t\t<stop offset=\"0.48582\" stop-color=\"#F36A1D\"/>\r\n\t\t\t\t\t\t\t<stop offset=\"1\" stop-color=\"#F36A1D\" stop-opacity=\"0\"/>\r\n\t\t\t\t\t\t\t</linearGradient>\r\n\t\t\t\t\t\t\t</defs>\r\n\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t</div>\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t`\r\n            });\r\n            sliderWrap.innerHTML = content\r\n            slider = new Swiper('.swiper-container', {\r\n                allowTouchMove: false,\r\n                speed: 1400,\r\n                navigation: {\r\n                    nextEl: '.slider__wrapper__right',\r\n                    prevEl: '.slider__wrapper__left'\r\n                },\r\n                effect: 'creative',\r\n                creativeEffect: {\r\n                    prev: {\r\n                        shadow: true,\r\n                        translate: ['-50%', 0, -1],\r\n                    },\r\n                    next: {\r\n                        translate: ['100%', 0, 0]\r\n                    }\r\n                },\r\n                on: {\r\n                    init: function() {\r\n                        activeSlide = document.querySelector('.swiper-slide-active')\r\n                        des.innerText = activeSlide.dataset.desc\r\n                        des.classList.add('active')\r\n                        likeCount.innerText = activeSlide.dataset.like\r\n                        if (activeSlide.dataset.isLike == '0') {\r\n                            likeBtn.classList.remove('disable', 'active')\r\n                        } else {\r\n                            likeBtn.classList.add('disable', 'active')\r\n                        }\r\n                    },\r\n                    slideChangeTransitionStart: function() {\r\n                        activeSlide = document.querySelector('.swiper-slide-active')\r\n                        des.innerText = activeSlide.dataset.desc\r\n                        des.classList.remove('active')\r\n                        setTimeout(() => {\r\n                            des.classList.add('active')\r\n                        }, 700);\r\n                        likeCount.innerText = activeSlide.dataset.like\r\n                        if (activeSlide.dataset.isLike == '0') {\r\n                            likeBtn.classList.remove('disable', 'active')\r\n                        } else {\r\n                            likeBtn.classList.add('disable', 'active')\r\n                        }\r\n                    }\r\n                }\r\n            })\r\n            const rigthBtn = document.querySelector('.slider__wrapper__right')\r\n            rigthBtn.onclick = () => {\r\n                if (slider.realIndex + 1 == offset && offset <= count) {\r\n                    APICars(offset)\r\n                    offset += 3\r\n                }\r\n            }\r\n            likeBtn.onclick = () => {\r\n                if (!likeBtn.classList.contains('disable')) {\r\n                    likeBtn.classList.add('disable')\r\n                    APILike(activeSlide)\r\n                }\r\n            }\r\n        } else {\r\n            sliderWrap.innerHTML = `\r\n\t\t\t<div class=\"swiper-slide\" data-desc='${data.desc}' data-like=${data.likeCnt} data-id=${data.id} data-is-like=0 data-title='${data.title}'>\r\n\t\t\t\t<div class=\"slider__wrapper__item\" style=\"background-image: url(${data.imgUrl})\">\r\n\t\t\t\t\t<div class=\"slider__wrapper__item__title\" style=\"opacity: 1;\">${data.title}</div>\r\n\t\t\t\t\t<div class=\"slider__wrapper__item__tooltip\">${data.title}</div>\r\n\t\t\t\t\t<div class=\"slider__wrapper__item__devider\">\r\n\t\t\t\t\t\t<svg width=\"1792\" height=\"2\" viewBox=\"0 0 1792 2\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t\t\t\t\t\t<path d=\"M0 1L1792 1.00016\" stroke=\"url(#paint0_linear_7_16)\" stroke-width=\"2\"/>\r\n\t\t\t\t\t\t\t<defs>\r\n\t\t\t\t\t\t\t<linearGradient id=\"paint0_linear_7_16\" x1=\"0\" y1=\"1\" x2=\"1779\" y2=\"1\" gradientUnits=\"userSpaceOnUse\">\r\n\t\t\t\t\t\t\t<stop stop-color=\"#F36A1D\" stop-opacity=\"0\"/>\r\n\t\t\t\t\t\t\t<stop offset=\"0.48582\" stop-color=\"#F36A1D\"/>\r\n\t\t\t\t\t\t\t<stop offset=\"1\" stop-color=\"#F36A1D\" stop-opacity=\"0\"/>\r\n\t\t\t\t\t\t\t</linearGradient>\r\n\t\t\t\t\t\t\t</defs>\r\n\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t</div>\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t`\r\n            des.classList.add('active')\r\n            des.innerText = data.desc\r\n        }\r\n    }\r\n\r\n    function addSlides(data) {\r\n        data.forEach(element => {\r\n            let isLiked = store.getItem(element.title)\r\n            slider.appendSlide(`\r\n            <div class=\"swiper-slide\" data-desc='${element.desc}' data-like=${isLiked ? element.likeCnt + 1 : element.likeCnt} data-id=${element.id} data-is-like=${isLiked ? 1 : 0} data-title='${element.title}'>\r\n\t\t\t\t<div class=\"slider__wrapper__item\" style=\"background-image: url(${element.imgUrl})\">\r\n\t\t\t\t\t<div class=\"slider__wrapper__item__title\">${element.title}</div>\r\n\t\t\t\t\t<div class=\"slider__wrapper__item__tooltip\">${element.title}</div>\r\n\t\t\t\t\t<div class=\"slider__wrapper__item__devider\">\r\n\t\t\t\t\t\t<svg width=\"1792\" height=\"2\" viewBox=\"0 0 1792 2\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t\t\t\t\t\t<path d=\"M0 1L1792 1.00016\" stroke=\"url(#paint0_linear_7_16)\" stroke-width=\"2\"/>\r\n\t\t\t\t\t\t\t<defs>\r\n\t\t\t\t\t\t\t<linearGradient id=\"paint0_linear_7_16\" x1=\"0\" y1=\"1\" x2=\"1779\" y2=\"1\" gradientUnits=\"userSpaceOnUse\">\r\n\t\t\t\t\t\t\t<stop stop-color=\"#F36A1D\" stop-opacity=\"0\"/>\r\n\t\t\t\t\t\t\t<stop offset=\"0.48582\" stop-color=\"#F36A1D\"/>\r\n\t\t\t\t\t\t\t<stop offset=\"1\" stop-color=\"#F36A1D\" stop-opacity=\"0\"/>\r\n\t\t\t\t\t\t\t</linearGradient>\r\n\t\t\t\t\t\t\t</defs>\r\n\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t</div>\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n            `)\r\n        })\r\n        slider.update()\r\n    }\r\n}"]}